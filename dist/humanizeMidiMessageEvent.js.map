{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/humanizeMidiMessageEvent.js","src/scaleMaps.js"],"names":[],"mappings":"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","file":"humanizeMidiMessageEvent.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\r\n\r\nvar MAX_MIDI_VALUE = 127;\r\nvar scaleMaps = require('./scaleMaps.js');\r\n\r\nfunction midiEventType (data) {\r\n\tif (data[0] >= 128 && data[0] <= 143) {\r\n\t\treturn 'Note Off';\r\n\t}\r\n\tif (data[0] >= 144 && data[0] <= 159) {\r\n\t\treturn 'Note On';\r\n\t}\r\n}\r\n\r\nfunction getVelocity (data) {\r\n\tif (data[0] >= 128 && data[0] <= 159) {\r\n\t\treturn data[2] / MAX_MIDI_VALUE;\r\n\t}\r\n}\r\n\r\nfunction getNote (data) {\r\n\tif (data[0] >= 128 && data[0] <= 159) {\r\n\t\treturn data[1];\r\n\t}\r\n}\r\n\r\nfunction getLetter (data, scale) {\r\n\tvar scaleMap = scaleMaps.cMajor;\r\n\tscaleMap = scaleMaps[scale] || scaleMap;\r\n\tif (data[0] >= 128 && data[0] <= 159) {\r\n\t\treturn scaleMap[data[1] % 12];\r\n\t}\r\n}\r\n\r\nfunction getOctave (data, scale) {\r\n\tvar scaleMap = scaleMaps.cMajor;\r\n\tscaleMap = scaleMaps[scale] || scaleMap;\r\n\tif (data[0] >= 128 && data[0] <= 159) {\r\n\t\treturn Math.floor(data[1] / 12);\r\n\t}\r\n}\r\n\r\nmodule.exports = function humanizeMidiMessageEvent (event) {\r\n\tvar humanEvent = {\r\n\t\traw: event.data,\r\n\t\ttype: null,\r\n\t\t//TODO: channel: null,\r\n\t\tnote: null,\r\n\t\tletter: null,\r\n\t\toctave: null,\r\n\t\tvelocity: null\r\n\t};\r\n\tvar data = event.data;\r\n\tif (data) {\r\n\t\thumanEvent.type = midiEventType(data);\r\n\t\thumanEvent.velocity = getVelocity(data);\r\n\t\thumanEvent.note = getNote(data);\r\n\t\thumanEvent.letter = getLetter(data);\r\n\t\thumanEvent.octave = getOctave(data);\r\n\t}\r\n\treturn humanEvent;\r\n};\r\n","'use strict';\n\nmodule.exports = {\n\t'cMajor':\n\t[\n\t\t'C', 'C#/D♭', 'D', 'D#/E♭', 'E', 'F', 'F#/G♭',\n\t\t'G', 'G#/A♭', 'A', 'A#/B♭', 'B'\n\t]\n};\n"]}